# Phase 1: Scaffold - Context

**Gathered:** 2026-02-24
**Status:** Ready for planning

<domain>
## Phase Boundary

Establish the npm package structure, secure the CLI entry point (`npx cc-templates --help`), and generate the static component catalog (`components.json`). No install logic — this phase is purely the correct package shape and catalog generation.

</domain>

<decisions>
## Implementation Decisions

### CLI help output
- Rich `--help`: branded header line ("cc-templates — Install Claude Code components"), then Usage, then all 4 flags (--skill, --hook, --command, --mcp, --list, --help), then Examples section
- All four component type flags listed even though install logic ships in Phase 2 — sets expectations early
- Examples use `npx cc-templates` invocation (no alias)

### Package file shape
- Components nested by type in repo: `components/skills/`, `components/hooks/`, `components/commands/`, `components/mcp/`
- npm package ships only CLI code: `bin/`, `src/`, `package.json`, `README`, `components.json` — component files stay in GitHub, fetched at runtime
- Single `bin/index.js` entry point (thin shim that imports from `src/`)
- ES Modules (`"type": "module"` in package.json, import/export syntax)

### components.json schema
- Grouped by type at top level: `{ skills: [...], hooks: [...], commands: [...], mcp: [...] }`
- Fields per entry: `name`, `description`, `author`, `version`, `tags` (array)
- Auto-generated by a build script that scans component dirs and reads frontmatter — committed to repo root
- Installer fetches it from GitHub raw URL as the catalog source

### Component frontmatter
- Frontmatter lives in the main component file (skill.md, hook config, etc.), not a separate metadata file
- Required fields: `name`, `description` — build fails with clear error if missing
- Optional fields: `author`, `version`, `tags`, `requires`
- `requires` supports `env` and `tools` sub-keys: `requires: { env: [GEMINI_API_KEY], tools: [ffmpeg] }`
- Catalog build script exits non-zero on missing required fields and prints which file + which field

### Claude's Discretion
- Exact progress/error message wording
- Whether to use a YAML parsing library or regex for frontmatter extraction
- npm `files` field configuration details
- `bin` field name in package.json (e.g., `cc-templates` vs `cct`)

</decisions>

<specifics>
## Specific Ideas

- No specific references given — decisions are based on standard npm CLI conventions

</specifics>

<deferred>
## Deferred Ideas

- None — discussion stayed within phase scope

</deferred>

---

*Phase: 01-scaffold*
*Context gathered: 2026-02-24*
